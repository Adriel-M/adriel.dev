---
import PostListing from '@/components/PostListing.astro'
import TagAndPostListingDisplayLayout from '@/layouts/TagAndPostListingDisplayLayout.astro'
import { getPosts } from '@/libs/CollectionUtils'
import siteConfig from '@/libs/siteConfig'

const posts = await getPosts()
const firstPagePosts = posts.slice(0, siteConfig.postsInPostsPageCount)
const numberOfPages = Math.ceil(posts.length / siteConfig.postsInPostsPageCount)
---

<TagAndPostListingDisplayLayout>
  <PostListing
    posts={firstPagePosts}
    currentPage={1}
    totalPages={numberOfPages}
    next="/posts/page/2"
  />
</TagAndPostListingDisplayLayout>
